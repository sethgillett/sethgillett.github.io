<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.min.js"></script>
<script type="text/javascript">var bgcolor;
var chosenText = "Your color is: ";
var chosenYet = false;
var keyDecided = false;
var chosen;

function setup() {
	createCanvas(window.innerWidth, window.innerHeight);
	stroke(128);
	fill(128);
	textAlign(CENTER);
	textSize(40);
	
	bgcolor = color(255,255,255);
}

function draw() {
	background(bgcolor);

	text("Await the decision of your color by the Rock.", windowWidth/2, windowHeight/5);
	
	if (frameCount >= 200 && !chosen) {
		chosen = Math.random() * 5;
		keyDecided = true;
	}
	
	if (frameCount >= 200 && !chosenYet && chosen && keyDecided) {
		chosenYet = true;
		if (chosen < 1) {
			chosenText += "RED";
			bgcolor = color(255,0,0);
		} else if (chosen < 2) {
			chosenText += "ORANGE";
			bgcolor = color(255,170,0);
		} else if (chosen < 3) {
			chosenText += "BLUE";
			bgcolor = color(0,0,255);
		} else if (chosen < 4) {
			chosenText += "GREEN";
			bgcolor = color(0,255,0);
		} else if (chosen < 5) {
			chosenText += "YELLOW";
			bgcolor = color(255,255,0);
		}
	} else if (frameCount > 200 && keyDecided) {
		text(chosenText, windowWidth/2, windowHeight*(3/4));
	}
}

function keyPressed() {
	console.log("Key pressed: " + key);
	if (key === 'R') {
		chosen = 0.5;
		keyDecided = true;
	}
	else if (key === 'O') {
		chosen = 1.5;
		keyDecided = true;
	}
	else if (key === 'B') {
		chosen = 2.5;
		keyDecided = true;
	}
	else if (key === 'G') {
		chosen = 3.5;
		keyDecided = true;
	}
	else if (key === 'Y') {
		chosen = 4.5;
		keyDecided = true;
	}
}</script>
